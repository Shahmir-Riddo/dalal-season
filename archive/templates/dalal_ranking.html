{% extends 'base.html' %}
{% load static %}
{% block body %}
<style>
    .card {
        display: flex;
        flex-direction: row;
        align-items: center;
        position: relative;
        overflow: hidden;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
        margin-bottom: 20px;
        padding: 10px;
    }

    .card:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 20px rgba(0,0,0,0.2);
    }

    .card-img-left {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        object-fit: cover;
        margin-right: 15px;
    }

    .card-body {
        flex: 1;
    }

    .shoe-badge {
        position: absolute;
        bottom: 10px;
        right: 10px;
        background: rgba(220, 53, 69, 0.85);
        color: #fff;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.85rem;
        display: flex;
        align-items: center;
        z-index: 2;
    }

    .status-badge {
        font-size: 0.8rem;
        font-weight: 500;
    }

    .arrow-btn {
        background: #dc3545;
        color: #fff;
        border-radius: 50%;
        width: 36px;
        height: 36px;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
    }

    .arrow-btn:hover {
        background: #bd2130;
        color: #fff;
    }

    .wanted-tag {
        position: absolute;
        top: 10px;
        left: -10px;
        background: #dc3545;
        color: #fff;
        padding: 3px 10px;
        font-weight: bold;
        transform: rotate(-10deg);
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
        font-size: 0.8rem;
        z-index: 2;
    }

</style>
{% include "navbar.html" %} 
<div class="container mt-5">
     <h2 class="mb-4 text-center">Dalal Leaderboard</h2>
{% for dalal in dalals %}
<div class="card shadow-sm" onclick="window.location.href='/dalal/{{ dalal.id }}';">
    {% if dalal.picture %}
        <img src="{{ dalal.picture.url }}" class="card-img-left" alt="{{ dalal.name }}">
    {% else %}
        <img src="{% static 'videos/loader.gif' %}" class="card-img-left" alt="No image">
    {% endif %}

    <div class="card-body">
        <h5>{{ dalal.name }}</h5>
        <p class="text-muted mb-1">Code: {{ dalal.dalal_code }}</p>
        <p class="small mb-1">
            <strong>Status:</strong>
            <span class="badge status-badge 
                {% if dalal.status == 'available' %}bg-warning
                {% elif dalal.status == 'captured' %}bg-primary
                {% elif dalal.status == 'fugitive' %}bg-danger
                {% elif dalal.status == 'terminated' %}bg-success
                {% else %}bg-secondary
                {% endif %}">
                {{ dalal.get_status_display }}
            </span>
        </p>
    </div>

    <div class="card-footer bg-transparent border-0 d-flex justify-content-end p-2">
        <a class="arrow-btn">
            <i class="fas fa-arrow-right"></i>
        </a>
    </div>

    <div class="shoe-badge">
        <i class="fas fa-shoe-prints me-1"></i> {{ dalal.shoe_count }}
    </div>

    <div class="wanted-tag">WANTED</div>
</div>
{% endfor %}
</div>

{% endblock %}
