{% extends 'base.html' %}
{% load static %}
{% block body %}

{% block title %}
Dalal Leaderboard
{% endblock title %}
{% include "navbar.html" %}

<div class="container mt-6">
    <h2 class="mb-4 text-center">Dalal Leaderboard</h2>

    <div class="list-group">
        {% for dalal in dalals %}
        
        <a href="/dalal/{{ dalal.id }}" class="list-group-item list-group-item-action d-flex align-items-center justify-content-between py-3 mb-2 shadow-sm rounded  bg-dark">
            
            <!-- Rank -->
            <div class="me-3 text-center " style="width:50px;">
                <h5 class="text-danger mb-0">{{ forloop.counter }}</h5>
            </div>

            <!-- Image -->
            <div class="me-3 bg-dark">
                {% if dalal.picture %}
                    <img src="{{ dalal.picture.url }}" class="rounded-circle" alt="{{ dalal.name }}" style="width:60px; height:60px; object-fit:cover;">
                {% else %}
                    <img src="{% static 'videos/loader.gif' %}" class="rounded-circle" alt="No image" style="width:60px; height:60px; object-fit:cover;">
                {% endif %}
            </div>

            <!-- Info -->
            <div class="flex-grow-1">
                <h5 class="mb-1">{{ dalal.name }}</h5>
                <p class="mb-0 text-muted">Code: {{ dalal.dalal_code }}</p>
            </div>

            <!-- Shoe Badge -->
            <div class="badge bg-danger d-flex align-items-center">
                <i class="fas fa-shoe-prints me-1"></i> {{ dalal.shoe_count }}
            </div>

            <!-- WANTED Tag -->
            <span class="position-absolute top-0 start-0 translate-middle badge rounded-pill bg-danger" style="transform: rotate(-10deg); font-size:0.75rem; padding:0.3em 0.6em;">
                WANTED
            </span>
        </a>
        {% endfor %}
    </div>
</div>

{% endblock %}
